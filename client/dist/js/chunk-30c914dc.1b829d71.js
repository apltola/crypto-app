(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-30c914dc"],{5233:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h2",[t._v("Add "+t._s(t.transactionType)+" Transaction")]),n("div",{staticClass:"container"},[n("transition",{attrs:{appear:"",name:"slide"}},[n("div",{staticClass:"card",staticStyle:{"max-width":"500px"}},[n("div",{staticClass:"card-header"},[n("button",{staticClass:"toggle",class:["buy"===t.transactionType&&"toggle-active"],on:{click:function(e){t.transactionType="buy"}}},[t._v(" Buy ")]),n("button",{staticClass:"toggle",class:["sell"===t.transactionType&&"toggle-active"],on:{click:function(e){t.transactionType="sell"}}},[t._v(" Sell ")])]),n("div",{staticClass:"content"},[n("form",{staticClass:"form",on:{submit:t.handleSubmit}},[n("div",{staticClass:"row"},[n("span",[t._v("Crypto")]),n("span",{staticClass:"crypto-name"},[t._v(t._s(t.coinName))])]),n("div",{staticClass:"row"},[n("label",{attrs:{for:"currency"}},[t._v(t._s("buy"===t.transactionType?"Bought With":"Sold For"))]),n("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedCurrency,expression:"selectedCurrency"}],on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selectedCurrency=e.target.multiple?n:n[0]}}},[n("option",{attrs:{disabled:"",value:""}},[t._v("Select currency")]),t._l(t.currencies,(function(e){return n("option",{key:e,domProps:{value:e}},[t._v(t._s(e))])}))],2)]),n("div",{staticClass:"row"},[n("label",{attrs:{for:"rate"}},[t._v("Price Per Coin "+t._s(t.selectedCurrency?"("+t.selectedCurrency+")":""))]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.pricePerCoin,expression:"pricePerCoin"}],attrs:{type:"number",name:"rate",step:".01"},domProps:{value:t.pricePerCoin},on:{input:function(e){e.target.composing||(t.pricePerCoin=e.target.value)}}})]),n("div",{staticClass:"row"},[n("label",{attrs:{for:"qty"}},[t._v("Quantity ("+t._s(t.coinSymbol)+")")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.quantity,expression:"quantity"}],attrs:{type:"number",name:"qty",step:".00000001"},domProps:{value:t.quantity},on:{input:function(e){e.target.composing||(t.quantity=e.target.value)}}})]),n("div",{staticClass:"btn-container"},[n("button",{staticClass:"submit",class:[t.submitIsDisabled()&&"disabled"],attrs:{type:"submit",disabled:t.submitIsDisabled()}},[t._v(" Save "+t._s(t.transactionType)+" Transaction ")])])])])])])],1)])},a=[],i=(n("99af"),n("d81d"),n("96cf"),n("1da1")),s=n("5c3a"),c=n("bc3a"),o=n.n(c),u=n("a18c"),l={name:"AddTransaction",data:function(){return{transactionType:"buy",coinName:this.$route.query.coin,coinSymbol:this.$route.query.symbol,quantity:"",boughtWith:null,soldWith:null,pricePerCoin:"",currencies:[],selectedCurrency:"",date:(new Date).getTime()}},methods:{handleSubmit:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.preventDefault(),n.prev=1,n.next=4,o.a.post("/api/transaction",{portfolioId:e.$route.params.portfolioId,type:e.transactionType,coinName:e.$route.query.coin,coinSymbol:e.$route.query.symbol,quantity:e.quantity,boughtWith:e.boughtWith,soldWith:e.soldWith,pricePerCoin:e.pricePerCoin,date:e.date});case 4:n.sent,u["a"].push("/dashboard"),n.next=11;break;case 8:n.prev=8,n.t0=n["catch"](1),console.log(n.t0);case 11:case"end":return n.stop()}}),n,null,[[1,8]])})))()},submitIsDisabled:function(){return!((this.boughtWith||this.soldWith)&&this.quantity&&this.pricePerCoin&&this.date)}},watch:{selectedCurrency:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e,n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!this.selectedCurrency){t.next=8;break}return"buy"===this.transactionType?(this.boughtWith=this.selectedCurrency,this.soldWith=null):(this.soldWith=this.selectedCurrency,this.boughtWith=null),e="/simple/price?ids=".concat(this.$route.query.coin,"&vs_currencies=").concat(this.selectedCurrency),t.next=5,s["a"].get(e);case 5:n=t.sent,r=n.data[this.$route.query.coin][this.selectedCurrency.toLowerCase()],this.pricePerCoin=r;case 8:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),transactionType:function(){this.selectedCurrency&&("buy"===this.transactionType?(this.boughtWith=this.selectedCurrency,this.soldWith=null):(this.soldWith=this.selectedCurrency,this.boughtWith=null))}},created:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,s["a"].get("/simple/supported_vs_currencies");case 2:n=e.sent,t.currencies=n.data.map((function(t){return t.toUpperCase()})).sort();case 4:case"end":return e.stop()}}),e)})))()}},d=l,p=(n("be3c"),n("2877")),h=Object(p["a"])(d,r,a,!1,null,"552b7cda",null);e["default"]=h.exports},"5c3a":function(t,e,n){"use strict";var r=n("bc3a"),a=n.n(r);e["a"]=a.a.create({baseURL:"https://api.coingecko.com/api/v3"})},8418:function(t,e,n){"use strict";var r=n("c04e"),a=n("9bf2"),i=n("5c6c");t.exports=function(t,e,n){var s=r(e);s in t?a.f(t,s,i(0,n)):t[s]=n}},"99af":function(t,e,n){"use strict";var r=n("23e7"),a=n("d039"),i=n("e8b5"),s=n("861d"),c=n("7b0b"),o=n("50c4"),u=n("8418"),l=n("65f0"),d=n("1dde"),p=n("b622"),h=n("2d00"),y=p("isConcatSpreadable"),v=9007199254740991,m="Maximum allowed index exceeded",b=h>=51||!a((function(){var t=[];return t[y]=!1,t.concat()[0]!==t})),f=d("concat"),C=function(t){if(!s(t))return!1;var e=t[y];return void 0!==e?!!e:i(t)},g=!b||!f;r({target:"Array",proto:!0,forced:g},{concat:function(t){var e,n,r,a,i,s=c(this),d=l(s,0),p=0;for(e=-1,r=arguments.length;e<r;e++)if(i=-1===e?s:arguments[e],C(i)){if(a=o(i.length),p+a>v)throw TypeError(m);for(n=0;n<a;n++,p++)n in i&&u(d,p,i[n])}else{if(p>=v)throw TypeError(m);u(d,p++,i)}return d.length=p,d}})},be3c:function(t,e,n){"use strict";var r=n("eaea"),a=n.n(r);a.a},eaea:function(t,e,n){}}]);
//# sourceMappingURL=chunk-30c914dc.1b829d71.js.map