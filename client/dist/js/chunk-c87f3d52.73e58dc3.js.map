{"version":3,"sources":["webpack:///./src/views/ManagePortfolios.vue?9967","webpack:///src/views/ManagePortfolios.vue","webpack:///./src/views/ManagePortfolios.vue?d1a0","webpack:///./src/views/ManagePortfolios.vue","webpack:///./src/views/ManagePortfolios.vue?6a14"],"names":["render","_vm","this","_h","$createElement","_c","_self","$store","state","_v","staticClass","staticStyle","_s","currentUser","username","portfolios","length","_l","p","idx","key","id","inEditMode","on","onEditPortfolio","directives","name","rawName","value","expression","attrs","domProps","$event","target","composing","editName","cancelEditMode","setInEditMode","holdings","h","imgUrl","coinSymbol","_e","onDeletePortfolio","delPfClicked","staticRenderFns","data","editIndex","methods","mounted","router","component"],"mappings":"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","file":"js/chunk-c87f3d52.73e58dc3.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (this.$store.state.currentUser)?_c('div',[_c('h2',[_vm._v(\"Manage Portfolios\")]),_c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"card\",staticStyle:{\"max-width\":\"500px\"}},[_c('div',{staticClass:\"card-header\",staticStyle:{\"justify-content\":\"center\"}},[_c('div',[_c('div',{staticClass:\"username\"},[_vm._v(\" \"+_vm._s(this.$store.state.currentUser.username)+\" \")])])]),_c('div',{staticClass:\"content\"},[(_vm.portfolios.length === 0)?_c('div',{staticClass:\"empty\"},[_vm._v(\" No portfolios \")]):_vm._l((_vm.portfolios),function(p,idx){return _c('div',{key:p.id,staticClass:\"portfolio-list-item\"},[_c('div',{staticClass:\"row\"},[_c('span',[_vm._v(\"Portfolio Name\")]),(_vm.inEditMode === p.id)?_c('span',[_c('form',{staticClass:\"portfolio-name-container\",on:{\"submit\":_vm.onEditPortfolio}},[_c('span',[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.editName),expression:\"editName\"}],attrs:{\"type\":\"text\",\"name\":\"editname\"},domProps:{\"value\":(_vm.editName)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.editName=$event.target.value}}})]),_c('button',{staticClass:\"btn-reset save-button\",attrs:{\"type\":\"submit\"}},[_c('font-awesome-icon',{staticClass:\"save-icon\",attrs:{\"icon\":\"check-circle\"}})],1),_c('button',{staticClass:\"btn-reset cancel-button\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.cancelEditMode}},[_c('font-awesome-icon',{staticClass:\"cancel-icon\",attrs:{\"icon\":\"times-circle\"}})],1)])]):_c('span',{staticClass:\"portfolio-name-container\"},[_c('span',[_vm._v(\" \"+_vm._s(p.name)+\" \")]),_c('button',{staticClass:\"btn-reset edit-button\",on:{\"click\":function () { return _vm.setInEditMode(p.id, p.name, idx); }}},[_c('font-awesome-icon',{staticClass:\"edit-icon\",attrs:{\"icon\":\"edit\"}})],1)])]),_c('div',{staticClass:\"holdings-row\"},[_c('div',{staticClass:\"holdings-left\"},[_vm._v(_vm._s(p.holdings.length)+\" holdings\")]),(p.holdings.length > 0)?_c('div',{staticClass:\"holdings-right\"},_vm._l((p.holdings),function(h){return _c('span',{key:h.id,staticClass:\"p-holding\"},[_c('img',{staticClass:\"img\",attrs:{\"src\":h.imgUrl}}),_vm._v(\" \"+_vm._s(h.coinSymbol)+\" \")])}),0):_vm._e()]),_c('div',{staticClass:\"delete-row\"},[_c('button',{staticClass:\"delete-button\",on:{\"click\":function () { return _vm.onDeletePortfolio(p.id, p.name); }}},[_vm._v(\" \"+_vm._s(_vm.delPfClicked === p.id ? 'Click Again to Confirm Delete' : 'Delete Portfolio')+\" \")])])])})],2)])])]):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div v-if=\"this.$store.state.currentUser\">\n    <h2>Manage Portfolios</h2>\n    <div class=\"container\">\n      <div class=\"card\" style=\"max-width: 500px\">\n        <div class=\"card-header\" style=\"justify-content: center\">\n          <div>\n            <div class=\"username\">\n              {{ this.$store.state.currentUser.username }}\n            </div>\n          </div>\n        </div>\n        <div class=\"content\">\n          <div v-if=\"portfolios.length === 0\" class=\"empty\">\n            No portfolios\n          </div>\n          <div\n            v-else\n            v-for=\"(p, idx) in portfolios\"\n            :key=\"p.id\"\n            class=\"portfolio-list-item\"\n          >\n            <div class=\"row\">\n              <span>Portfolio Name</span>\n              <span v-if=\"inEditMode === p.id\">\n                <form\n                  @submit=\"onEditPortfolio\"\n                  class=\"portfolio-name-container\"\n                >\n                  <span>\n                    <input v-model=\"editName\" type=\"text\" name=\"editname\" />\n                  </span>\n                  <button type=\"submit\" class=\"btn-reset save-button\">\n                    <font-awesome-icon icon=\"check-circle\" class=\"save-icon\" />\n                  </button>\n                  <button\n                    type=\"button\"\n                    @click=\"cancelEditMode\"\n                    class=\"btn-reset cancel-button\"\n                  >\n                    <font-awesome-icon\n                      icon=\"times-circle\"\n                      class=\"cancel-icon\"\n                    />\n                  </button>\n                </form>\n              </span>\n              <span v-else class=\"portfolio-name-container\">\n                <span>\n                  {{ p.name }}\n                </span>\n                <button\n                  @click=\"() => setInEditMode(p.id, p.name, idx)\"\n                  class=\"btn-reset edit-button\"\n                >\n                  <font-awesome-icon icon=\"edit\" class=\"edit-icon\" />\n                </button>\n              </span>\n            </div>\n            <div class=\"holdings-row\">\n              <div class=\"holdings-left\">{{ p.holdings.length }} holdings</div>\n              <div v-if=\"p.holdings.length > 0\" class=\"holdings-right\">\n                <span v-for=\"h in p.holdings\" :key=\"h.id\" class=\"p-holding\">\n                  <img class=\"img\" :src=\"h.imgUrl\" />\n                  {{ h.coinSymbol }}\n                </span>\n              </div>\n            </div>\n            <div class=\"delete-row\">\n              <button\n                class=\"delete-button\"\n                @click=\"() => onDeletePortfolio(p.id, p.name)\"\n              >\n                {{\n                  delPfClicked === p.id\n                    ? 'Click Again to Confirm Delete'\n                    : 'Delete Portfolio'\n                }}\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport router from '../router';\nimport axios from 'axios';\n\nexport default {\n  name: 'ManagePortfolios',\n\n  data() {\n    return {\n      portfolios: [],\n      delPfClicked: '',\n      inEditMode: '',\n      editName: '',\n      editIndex: null,\n    };\n  },\n\n  methods: {\n    async onDeletePortfolio(id, name) {\n      if (this.delPfClicked !== id) {\n        this.delPfClicked = id;\n      } else {\n        console.log('delete ', name);\n        const res = await axios.delete(`/api/portfolio/${id}`);\n        this.portfolios = res.data;\n      }\n    },\n\n    setInEditMode(id, name, idx) {\n      this.inEditMode = id;\n      this.editName = name;\n      this.editIndex = idx;\n    },\n\n    cancelEditMode() {\n      this.inEditMode = '';\n      this.editName = '';\n    },\n\n    async onEditPortfolio(e) {\n      e.preventDefault();\n\n      console.log('submit');\n      const res = await axios.put(`/api/portfolio/${this.inEditMode}`, {\n        name: this.editName,\n      });\n      this.portfolios[this.editIndex] = res.data;\n      this.inEditMode = false;\n    },\n  },\n\n  mounted() {\n    if (this.$store.state.currentUser === null) {\n      router.push('/');\n    }\n  },\n\n  async created() {\n    const res = await axios.get('/api/portfolio');\n    this.portfolios = res.data;\n  },\n};\n</script>\n\n<style scoped>\n.account-card {\n  max-width: 500px;\n}\n\n.container {\n  padding-top: 30px;\n}\n\n.username {\n  font-weight: bold;\n  font-size: 22px;\n}\n\n.content {\n  padding: 30px 40px 40px;\n}\n\n.empty {\n  font-weight: bold;\n  opacity: 0.6;\n}\n\n.portfolio-name-container {\n  display: flex;\n  align-items: center;\n}\n\n.edit-button {\n  padding: 0;\n  padding-left: 4px;\n  margin-left: 10px;\n}\n\n.edit-button:hover {\n  color: #00cdac;\n}\n\n.edit-icon {\n  font-size: 18px;\n}\n\n.save-icon {\n  font-size: 18px;\n  color: var(--iosLightGreen);\n}\n\n.cancel-icon {\n  font-size: 18px;\n  color: var(--iosRed);\n}\n\n.save-button,\n.cancel-button {\n  display: flex;\n  align-items: center;\n  padding: 0;\n  margin-left: 10px;\n}\n\n.portfolio-list-item {\n  padding: 20px 0;\n  border-bottom: 1px solid #e1e4e8;\n}\n\n.portfolio-list-item:first-child {\n  border-top: 1px solid #e1e4e8;\n}\n\n.row {\n  display: flex;\n  justify-content: space-between;\n}\n\n.holdings-row {\n  display: flex;\n  padding-top: 25px;\n}\n\n.holdings-left {\n  flex: 1;\n  padding-top: 2px;\n}\n\n.holdings-right {\n  flex: 1.5;\n  display: flex;\n  flex-flow: row wrap;\n  justify-content: flex-end;\n}\n\n.p-holding {\n  display: flex;\n  flex-flow: row nowrap;\n  align-items: center;\n  padding-left: 15px;\n  padding-bottom: 10px;\n  text-transform: uppercase;\n  font-size: 14px;\n}\n\n.img {\n  height: 20px;\n  margin-right: 3px;\n}\n\n.delete-row {\n  padding-top: 25px;\n  text-align: right;\n}\n\n.delete-button {\n  border: 2px solid var(--iosRed);\n  background: white;\n  color: var(--iosRed);\n  border-radius: 5px;\n  font-weight: bold;\n  padding: 5px 15px;\n  transition: background 100ms ease-in-out;\n}\n\n.delete-button:hover {\n  color: white;\n  background: var(--iosRed);\n}\n\n.delete-button:active {\n  background: #e43633;\n}\n\n@media screen and (max-width: 600px) {\n  .content {\n    padding: 20px 10px 40px;\n  }\n  .delete-button:hover,\n  .delete-button:active {\n    background: white;\n    color: var(--iosRed);\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ManagePortfolios.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ManagePortfolios.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ManagePortfolios.vue?vue&type=template&id=503db872&scoped=true&\"\nimport script from \"./ManagePortfolios.vue?vue&type=script&lang=js&\"\nexport * from \"./ManagePortfolios.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ManagePortfolios.vue?vue&type=style&index=0&id=503db872&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"503db872\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ManagePortfolios.vue?vue&type=style&index=0&id=503db872&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ManagePortfolios.vue?vue&type=style&index=0&id=503db872&scoped=true&lang=css&\""],"sourceRoot":""}